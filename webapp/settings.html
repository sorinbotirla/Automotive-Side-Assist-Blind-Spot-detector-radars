<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0b0f14">
    <meta name="color-scheme" content="dark">
    <title>Radar Settings</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
<div class="wrap" id="settingsPage">
    <h2>Radar Settings</h2>

    <div class="actions">
        <a href="/" id="backHome">Back</a>
        <a href="#" id="reloadSettings">Reload from SD and apply</a>
        <a href="#" id="saveSettings">Save to SD</a>
    </div>

    <div id="statusLine" class="status">Loading...</div>

    <!-- GLOBAL SETTINGS -->
    <div class="settingsSection">
        <div class="sectionTitle">Global</div>
        <div class="liveHud">
            <div class="liveCard">
                <div class="liveTitle">HB100 Left</div>
                <div class="liveValue" id="hbLeftAvg">-</div>
                <div class="liveSub" id="rcwlLeftSub">RCWL Left: -</div>
            </div>
            <div class="liveCard">
                <div class="liveTitle">HB100 Right</div>
                <div class="liveValue" id="hbRightAvg">-</div>
                <div class="liveSub" id="rcwlRightSub">RCWL Right: -</div>
            </div>
        </div>
        <div class="settingsGrid">
            <div class="row">
                <div class="label">Sampling interval (microseconds)</div>
                <div class="field">
                    <input type="number" id="SAMPLE_PERIOD_MICROSECONDS" step="10" />
                    <div class="help">Time between raw readings.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="SAMPLE_PERIOD_MICROSECONDS" data-default="200">Default</button>
                    <span class="defVal">200</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Min Doppler period (microseconds)</div>
                <div class="field">
                    <input type="number" id="MIN_PERIOD_MICROSECONDS" step="100" />
                    <div class="help">Ignores changes faster than this.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="MIN_PERIOD_MICROSECONDS" data-default="1000">Default</button>
                    <span class="defVal">1000</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Max Doppler period (microseconds)</div>
                <div class="field">
                    <input type="number" id="MAX_PERIOD_MICROSECONDS" step="1000" />
                    <div class="help">Ignores changes slower than this.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="MAX_PERIOD_MICROSECONDS" data-default="500000">Default</button>
                    <span class="defVal">500000</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Alert hold time (milliseconds)</div>
                <div class="field">
                    <input type="number" id="MOTION_HOLD_MILISECONDS" step="50" />
                    <div class="help">Keeps the alert on after a trigger.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="MOTION_HOLD_MILISECONDS" data-default="500">Default</button>
                    <span class="defVal">500</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Triggers needed</div>
                <div class="field">
                    <input type="number" id="EVENTS_TO_TRIGGER" step="1" />
                    <div class="help">How many hits are needed to alert.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="EVENTS_TO_TRIGGER" data-default="1">Default</button>
                    <span class="defVal">1</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Side objects LED disable duration</div>
                <div class="field">
                    <input type="number" id="RCWL_MIN_ACTIVE_MILISECONDS" step="50" />
                    <div class="help">When detected, side objects turn off led this duration</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="RCWL_MIN_ACTIVE_MILISECONDS" data-default="1000">Default</button>
                    <span class="defVal">1000</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Noise tracking speed</div>
                <div class="field">
                    <input type="number" id="NOISE_AVERAGE_UPDATE_SPEED" step="1" />
                    <div class="help">Bigger number = slower adaptation.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="NOISE_AVERAGE_UPDATE_SPEED" data-default="7">Default</button>
                    <span class="defVal">7</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Fade in (milliseconds)</div>
                <div class="field">
                    <input type="number" id="FADE_IN_MILISECONDS" step="50" />
                    <div class="help">Time to ramp LED up.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="FADE_IN_MILISECONDS" data-default="600">Default</button>
                    <span class="defVal">600</span>
                </div>
            </div>

            <div class="row">
                <div class="label">Fade out (milliseconds)</div>
                <div class="field">
                    <input type="number" id="FADE_OUT_MILISECONDS" step="50" />
                    <div class="help">Time to ramp LED down.</div>
                </div>
                <div class="tools">
                    <button type="button" class="btnDefault" data-key="FADE_OUT_MILISECONDS" data-default="1500">Default</button>
                    <span class="defVal">1500</span>
                </div>
            </div>
        </div>
    </div>

    <!-- SIDE SETTINGS -->
    <div class="settingsSection">
        <div class="sectionTitle">Channels</div>
        <br />
        <div class="settingsColumns">
            <!-- LEFT -->
            <div class="settingsPanel">
                <div class="panelTitle">Left</div>

                <div class="settingsGrid">
                    <div class="row">
                        <div class="label">Minimum signal</div>
                        <div class="field">
                            <input type="number" id="MIN_AMPLITUDE_LEFT" step="1" />
                            <div class="help">Smallest signal accepted as real.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="MIN_AMPLITUDE_LEFT" data-default="60">Default</button>
                            <span class="defVal">60</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Noise multiplier (x10)</div>
                        <div class="field">
                            <input type="number" id="NOISE_MULT_LEFT" step="1" />
                            <div class="help">How much noise raises the threshold.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="NOISE_MULT_LEFT" data-default="0">Default</button>
                            <span class="defVal">0</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Noise offset</div>
                        <div class="field">
                            <input type="number" id="NOISE_OFFSET_LEFT" step="1" />
                            <div class="help">Extra value added to the threshold.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="NOISE_OFFSET_LEFT" data-default="0">Default</button>
                            <span class="defVal">0</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Proximity override</div>
                        <div class="field">
                            <select id="ENABLE_RCWL_LEFT">
                                <option value="true">true</option>
                                <option value="false">false</option>
                            </select>
                            <div class="help">When enabled, proximity can disable alerts.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="ENABLE_RCWL_LEFT" data-default="true">Default</button>
                            <span class="defVal">true</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT -->
            <div class="settingsPanel">
                <div class="panelTitle">Right</div>

                <div class="settingsGrid">
                    <div class="row">
                        <div class="label">Minimum signal</div>
                        <div class="field">
                            <input type="number" id="MIN_AMPLITUDE_RIGHT" step="1" />
                            <div class="help">Smallest signal accepted as real.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="MIN_AMPLITUDE_RIGHT" data-default="60">Default</button>
                            <span class="defVal">60</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Noise multiplier (x10)</div>
                        <div class="field">
                            <input type="number" id="NOISE_MULT_RIGHT" step="1" />
                            <div class="help">How much noise raises the threshold.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="NOISE_MULT_RIGHT" data-default="0">Default</button>
                            <span class="defVal">0</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Noise offset</div>
                        <div class="field">
                            <input type="number" id="NOISE_OFFSET_RIGHT" step="1" />
                            <div class="help">Extra value added to the threshold.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="NOISE_OFFSET_RIGHT" data-default="0">Default</button>
                            <span class="defVal">0</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="label">Proximity override</div>
                        <div class="field">
                            <select id="ENABLE_RCWL_RIGHT">
                                <option value="true">true</option>
                                <option value="false">false</option>
                            </select>
                            <div class="help">When enabled, proximity can disable alerts.</div>
                        </div>
                        <div class="tools">
                            <button type="button" class="btnDefault" data-key="ENABLE_RCWL_RIGHT" data-default="true">Default</button>
                            <span class="defVal">true</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="status" id="ackLine">ACK: none</div>
</div>

<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/app.js"></script>
</body>
</html>
